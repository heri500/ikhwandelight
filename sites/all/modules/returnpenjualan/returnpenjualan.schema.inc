<?php
$schema['returnpenjualan'] = array(
    'description' => 'Return Penjualan.',
    'fields' => array(
        'idreturn' => array(
            'type' => 'serial',
            'unsigned' => TRUE,
            'size' => 'big',
            'not null' => TRUE,
            'description' => t('ID return penjualan.'),
        ),
        'idpenjualan' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('ID penjualan terkait.'),
        ),
        'nonota' => array(
            'type' => 'varchar',
            'length' => 20,
            'not null' => TRUE,
            'default' => 'RN0001',
            'description' => t('No nota return.'),
        ),
        'tglreturn' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('Tanggal return dalam unix time.'),
        ),
        'idpelanggan' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('ID pemakai terkait.'),
        ),
        'total' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('Total return.'),
        ),
        'carareturn' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('ID cara return.'),
        ),
        'uang_dikembalikan' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('Nilai uang yang dikembalikan pada pelanggan.'),
        ),
        'keterangan' => array(
            'type' => 'text',
            'size' => 'big',
            'description' => t('Keterangan terkait return.'),
        ),
        'created' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('Waktu record dibuat.'),
        ),
        'changed' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('Waktu record diubah/edit.'),
        ),
        'uid' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('User ID yang membuat record.'),
        ),
        'uid_changed' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'default' => 0,
            'description' => t('User ID yang mengubah record.'),
        ),
    ),
    'primary key' => array('idreturn'),
    'indexes' => array(
        'idxpenjualan' => array('idpenjualan'),
        'idxcreator' => array('uid'),
        'idxpelanggan' => array('idpelanggan'),
    ),
);
$schema['detailreturnpenjualan'] = array(
    'description' => 'Detail Return Penjualan.',
    'fields' => array(
        'iddetail' => array(
            'type' => 'serial',
            'unsigned' => TRUE,
            'size' => 'big',
            'not null' => TRUE,
            'description' => t('ID detail return penjualan.'),
        ),
        'idreturn' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('ID return terkait.'),
        ),
        'idproduct' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('ID product terkait.'),
        ),
        'jumlah' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('Qty product yang di return.'),
        ),
        'hargapokok' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('harga pokok product saat return.'),
        ),
        'hargapokoksebelumnya' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('harga pokok product saat penjualan.'),
        ),
        'hargajual' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('harga jual product saat return.'),
        ),
        'hargajualsebelumnya' => array(
            'type' => 'numeric',
            'unsigned' => TRUE,
            'precision' => 32,
            'scale' => 0,
            'not null' => TRUE,
            'description' => t('harga jual product saat penjualan.'),
        ),
        'created' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('Waktu record dibuat.'),
        ),
        'changed' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('Waktu record diubah/edit.'),
        ),
        'uid' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'not null' => TRUE,
            'default' => 0,
            'description' => t('User ID yang membuat record.'),
        ),
        'uid_changed' => array(
            'type' => 'int',
            'unsigned' => TRUE,
            'default' => 0,
            'description' => t('User ID yang mengubah record.'),
        ),
    ),
    'primary key' => array('iddetail'),
    'indexes' => array(
        'idxreturn' => array('idreturn'),
        'idxproduct' => array('idproduct'),
        'idxcreator' => array('uid'),
    ),
);
